(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".ui-example-wrapper[data-v-3fc13792]{padding:10px;margin:10px;border:1px solid black}.ui-example-class[data-v-3fc13792]{color:red;font-weight:700}h1[data-v-3fc13792]{margin-bottom:10px}h2[data-v-3fc13792]{margin-top:1.5rem;margin-bottom:.75rem}h3[data-v-3fc13792]{margin-top:1rem}p[data-v-3fc13792]{margin-bottom:5px}ul li[data-v-3fc13792]{list-style-type:circle;list-style-position:inside;margin-left:15px}pre[data-v-3fc13792]{padding:12px;margin:12px;background-color:#eee}code[data-v-3fc13792]{font-size:.825rem;color:#ae0000}")),document.head.appendChild(e)}}catch(a){console.error("vite-plugin-css-injected-by-js",a)}})();
(function(l,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("vuex")):typeof define=="function"&&define.amd?define(["exports","vue","vuex"],e):(l=typeof globalThis<"u"?globalThis:l||self,e(l["ui-example"]={},l.Vue,l.vuex))})(this,function(l,e,p){"use strict";function h(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var m=N,u=/\s/,V=/(_|-|\.|:)/,f=/([a-z][A-Z]|[A-Z][a-z])/;function N(t){return u.test(t)?t.toLowerCase():V.test(t)?(y(t)||t).toLowerCase():f.test(t)?w(t).toLowerCase():t.toLowerCase()}var _=/[\W_]+(.|$)/g;function y(t){return t.replace(_,function(o,a){return a?" "+a:""})}var E=/(.)([A-Z]+)/g;function w(t){return t.replace(E,function(o,a,i){return a+" "+i.toLowerCase().split("").join(" ")})}var b=m,g=x;function x(t){return b(t).replace(/[a-z]/i,function(o){return o.toUpperCase()}).trim()}var S=function(t){return String(t).replace(/([.*+?=^!:${}()|[\]\/\\])/g,"\\$1")},C=["a","an","and","as","at","but","by","en","for","from","how","if","in","neither","nor","of","on","only","onto","out","or","per","so","than","that","the","to","until","up","upon","v","v.","versus","vs","vs.","via","when","with","without","yet"],T=g,k=S,D=C,j=U,I=D.map(k),R=new RegExp("[^^]\\b("+I.join("|")+")\\b","ig"),O=/:\s*(\w)/g;function U(t){return T(t).replace(/(^|\s)(\w)/g,function(o,a,i){return a+i.toUpperCase()}).replace(R,function(o){return o.toLowerCase()}).replace(O,function(o){return o.toUpperCase()})}const W=h(j),L=(t,o)=>{const a=t.__vccOpts||t;for(const[i,r]of o)a[i]=r;return a},M={name:"UIExample",inject:["$socket"],props:{id:{type:String,required:!0},props:{type:Object,default:()=>({})},state:{type:Object,default:()=>({enabled:!1,visible:!1})}},setup(t){console.info("UIExample setup with:",t),console.debug("Vue function loaded correctly",e.markRaw)},data(){return{input:{title:"some text here will base turned into title case."},vuetifyStyles:[{label:"Responsive Displays",url:"https://vuetifyjs.com/en/styles/display/#display"},{label:"Flex",url:"https://vuetifyjs.com/en/styles/flex/"},{label:"Spacing",url:"https://vuetifyjs.com/en/styles/spacing/#how-it-works"},{label:"Text & Typography",url:"https://vuetifyjs.com/en/styles/text-and-typography/#typography"}]}},computed:{titleCase(){return W(this.input.title)},...p.mapState("data",["messages"])},mounted(){this.$socket.on("widget-load:"+this.id,t=>{this.$store.commit("data/bind",{widgetId:this.id,msg:t})}),this.$socket.on("msg-input:"+this.id,t=>{this.$store.commit("data/bind",{widgetId:this.id,msg:t})})},unmounted(){var t;(t=this.$socket)==null||t.off("msg-input:"+this.id)},methods:{send(t){this.$socket.emit("widget-action",this.id,t)},alert(t){alert(t)},test(){console.info("custom event handler:"),this.$socket.emit("my-custom-event",this.id,{payload:"Custom Event"})}}},n=t=>(e.pushScopeId("data-v-3fc13792"),t=t(),e.popScopeId(),t),$={className:"ui-example-wrapper"},A=n(()=>e.createElementVNode("h2",null,"Using Vuetify Components",-1)),B=n(()=>e.createElementVNode("p",null,[e.createTextVNode(" Vuetify is included by default, so we can include any of their components. Here we have a "),e.createElementVNode("code",null,"v-btn"),e.createTextVNode(' that will open a "Hello World" alert. ')],-1)),H=n(()=>e.createElementVNode("h2",null,"Accessing Properties",-1)),q=n(()=>e.createElementVNode("p",null," Your Vue component will be rendered and passed a few built-in properties. ",-1)),z=n(()=>e.createElementVNode("h3",null,[e.createElementVNode("code",null,"this.id")],-1)),P=n(()=>e.createElementVNode("p",null,[e.createTextVNode("Each widget has a unique ID, which can be used when sending messages to Node-RED via "),e.createElementVNode("code",null,"this.$socket.emit()"),e.createTextVNode(".")],-1)),F=n(()=>e.createElementVNode("h3",null,[e.createElementVNode("code",null,"this.props")],-1)),Y=n(()=>e.createElementVNode("p",null,[e.createTextVNode("The "),e.createElementVNode("code",null,"props"),e.createTextVNode(" object contains the properties defined in the widget's configuration in Node-RED.")],-1)),Z=n(()=>e.createElementVNode("h3",null,[e.createElementVNode("code",null,"this.state")],-1)),J=n(()=>e.createElementVNode("p",null,[e.createTextVNode(" The "),e.createElementVNode("code",null,"state"),e.createTextVNode(" object contains the current visibility & behavioural state of the widget, including whether it is enabled and visible. This is not yet fully functionality in Dashboard 2.0, but will be expanded in future. ")],-1)),X=n(()=>e.createElementVNode("h2",null,"Communications with Node-RED",-1)),G=n(()=>e.createElementVNode("p",null,"Events are sent back and forth between Node-RED and Dashboard 2.0 with SocketIO",-1)),K=n(()=>e.createElementVNode("h3",null,"Sending Node-RED Messages",-1)),Q=n(()=>e.createElementVNode("p",null,"You can send and receive the built-in events, as well as defining your own:",-1)),v=n(()=>e.createElementVNode("h3",null,"Sending Custom SocketIO Events",-1)),ee=n(()=>e.createElementVNode("p",null,[e.createTextVNode(" You can also send custom events, which can be handled by a custom event handler in Node-RED. The Node-RED-side's handler should have "),e.createElementVNode("code",null,"(conn, id, msg)"),e.createTextVNode(" as the input variables. ")],-1)),te=n(()=>e.createElementVNode("h2",null,"Data Retention & VueX Stores",-1)),ne=n(()=>e.createElementVNode("p",null,"Dashboard 2.0 has a built-in VueX datastore. This can be used to store (and retrieve) the latest received messages.",-1)),oe=n(()=>e.createElementVNode("p",null,"Note: the vuex store is cleared on refresh of a screen, at which point, data will be loaded from the Node-RED datastore, should it be present.",-1)),ae=n(()=>e.createElementVNode("p",null,"Send a message to this node in order to see the value here:",-1)),le=n(()=>e.createElementVNode("h2",null,"Styling with Vuetify & CSS",-1)),se=n(()=>e.createElementVNode("p",null,[e.createTextVNode(" We can define our own CSS within the widget's repository, and expose classes like "),e.createElementVNode("code",{class:"ui-example-class"},"ui-example-class")],-1)),ie=["href"],re=n(()=>e.createElementVNode("h2",null,"External Dependencies",-1)),de=n(()=>e.createElementVNode("p",null,[e.createTextVNode(" Any additional libraries you require can be installed as in any other package. When the "),e.createElementVNode("code",null,"npm run build"),e.createTextVNode(" command is run, Vite will package everything up into the single "),e.createElementVNode("code",null,".umd.js"),e.createTextVNode(" file. ")],-1)),ce=n(()=>e.createElementVNode("p",null,[e.createTextVNode(" Here, we include the NPM package "),e.createElementVNode("code",null,"to-title-case"),e.createTextVNode(", and bind it's functionality to a VueJS Computed Variable, which automatically re-calculates. ")],-1));function pe(t,o,a,i,r,d){const c=e.resolveComponent("v-btn"),me=e.resolveComponent("v-text-field");return e.openBlock(),e.createElementBlock("div",$,[e.createElementVNode("h1",null,"Example Integrated Widget: "+e.toDisplayString(a.id),1),A,B,e.createVNode(c,{onClick:o[0]||(o[0]=s=>d.alert("Hello World"))},{default:e.withCtx(()=>[e.createTextVNode('Alert "Hello World"')]),_:1}),H,q,z,P,e.createElementVNode("pre",null,e.toDisplayString(a.id),1),F,Y,e.createElementVNode("pre",null,e.toDisplayString(a.props),1),Z,J,e.createElementVNode("pre",null,e.toDisplayString(a.state),1),X,G,K,Q,e.createVNode(c,{onClick:o[1]||(o[1]=s=>d.send({payload:"Hello World"}))},{default:e.withCtx(()=>[e.createTextVNode("Send msg")]),_:1}),v,ee,e.createVNode(c,{onClick:o[2]||(o[2]=s=>d.test())},{default:e.withCtx(()=>[e.createTextVNode("Send 'my-custom-event'")]),_:1}),te,ne,oe,ae,e.createElementVNode("pre",null,e.toDisplayString(t.messages&&t.messages[a.id]?t.messages[a.id]:"No Data"),1),le,se,e.createElementVNode("p",null,[e.createTextVNode(" Vuetify also comes with a handful of utility classes to assist with styling: "),e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.vuetifyStyles,s=>(e.openBlock(),e.createElementBlock("li",{key:s.label},[e.createElementVNode("a",{href:s.url,target:"_blank"},e.toDisplayString(s.label),9,ie)]))),128))])]),re,de,ce,e.createElementVNode("p",null,[e.createVNode(me,{modelValue:r.input.title,"onUpdate:modelValue":o[3]||(o[3]=s=>r.input.title=s),type:"text"},null,8,["modelValue"]),e.createTextVNode(" VueJS Computed Variable Output: "),e.createElementVNode("i",null,e.toDisplayString(d.titleCase),1)])])}const he=L(M,[["render",pe],["__scopeId","data-v-3fc13792"]]);l.UIExample=he,Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});
